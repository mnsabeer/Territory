var TerritoryLocatorServices = angular.module("TerritoryLocator.Services", []); TerritoryLocatorServices.factory("communicationService", ["$http", function (e) { var t = function () { bootbox.alert(errorMessage) }; var n = function (e, n, r, i, s) { if (s != undefined && s != false) hideBusyIndicator(); if (i) { e(r) } else { if (n) { n(r) } else { t() } } }; var r = function (e) { if (e) showBusyIndicator() }; var i = {}; i.makeWebRequest = function (t, i, s, o, u, a) { t = getBaseURL() + t; var f; if (a === undefined) a = true; r(a); switch (i) { case "GET": f = e.get(t); break; case "POST": f = e.post(t, s); break } f.success(function (e, t, r, i) { n(o, u, $.parseJSON($.parseJSON(e)), true, a) }); f.error(function (e) { n(o, u, e, false, a) }) }; return i }])